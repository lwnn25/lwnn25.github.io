<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI赋能：提升幼儿园教师教学、管理、教研、科研效率</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for a clean, professional look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles */
        body {
            font-family: 'Inter', 'Noto Sans SC', sans-serif;
            scroll-behavior: smooth;
        }
        /* Style for the scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        /* Style for active navigation link */
        .nav-link.active {
            background-color: #e0f2fe;
            color: #0c4a6e;
            font-weight: 600;
        }
        /* Custom styles for details/summary to have a nice transition */
        details > summary {
            list-style: none;
        }
        details > summary::-webkit-details-marker {
            display: none;
        }
        details[open] > summary .arrow-down {
            transform: rotate(180deg);
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="flex">
        <!-- Sidebar Navigation (Desktop) -->
        <aside id="sidebar" class="hidden lg:block fixed top-0 left-0 h-screen w-64 bg-white shadow-md p-6 overflow-y-auto">
            <h1 class="text-xl font-bold text-sky-800 mb-6">讲座大纲</h1>
            <nav id="desktop-nav" class="space-y-2">
                <!-- Navigation links will be injected here by JavaScript -->
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="w-full lg:ml-64 p-4 md:p-8 lg:p-12">
            <!-- Header for Mobile -->
            <header class="lg:hidden bg-white shadow-md rounded-lg p-4 mb-6">
                 <h1 class="text-2xl font-bold text-center text-sky-900 mb-2">AI赋能幼儿教育</h1>
                 <p class="text-sm text-center text-slate-600">提升教学、管理、教研、科研效率</p>
            </header>
            
            <div id="content-container">
                <!-- All presentation content will be injected here by JavaScript -->
            </div>
        </main>
    </div>

    <!-- Scroll-to-Top Button -->
    <button id="scrollToTopBtn" class="hidden fixed bottom-8 right-8 bg-sky-600 text-white w-12 h-12 rounded-full shadow-lg hover:bg-sky-700 transition-all duration-300 focus:outline-none z-50">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
        </svg>
    </button>

    <script>
        // --- CONTENT DATA ---
        // Storing all presentation content in a structured JavaScript object.
        // This makes the HTML cleaner and the content easier to manage.
        const presentationContent = [
            {
                id: 'part1',
                title: '第一部分：全球AI浪潮下的学前教育：教师的新视野',
                navTitle: '全球视野',
                content: [
                    { type: 'p', text: '人工智能（AI）在学前教育领域的融合，已不再是遥远的未来构想，而是一场席卷全球的变革。这场变革为上海的教育工作者们提供了一个前所未有的机遇，去引领和创新，这与上海建设高质量、面向未来的学前教育体系的宏伟蓝图不谋而合。本报告将深入剖析这一全球趋势，旨在阐明一个核心观点：尽管世界各国的具体策略千差万别，但其共同的成功脉络在于，人工智能的最高价值体现在其增强而非取代教学核心——那份不可或缺的人文关怀与师幼互动。' },
                    { 
                        type: 'details',
                        summary: '1.1 全球共识：以人为本的愿景',
                        detailsContent: [
                            { type: 'p_with_strong', strong: 'UNESCO的“以人为本”方针：', text: 'UNESCO明确提出，AI在教育中的应用必须以“以人为本”为核心，其目标是解决现有教育资源获取的不平等问题，防止技术鸿沟的进一步扩大。该组织致力于推动AI技术用于增强人类智慧、保护基本人权，并促进人机协作以实现可持续发展。这为整个行业的AI整合提供了一个坚实的伦理基础。为应对生成式AI带来的挑战，UNESCO还发布了专门的指导方针，建议各国对数据隐私和用户年龄进行规制，这凸显了在幼儿教育领域应用新技术时，必须采取审慎和深思熟虑的决策态度。' },
                            { type: 'p_with_strong', strong: 'OECD的平衡发展观：', text: 'OECD同样强调，在抓住AI带来的机遇的同时，必须有效管理其潜在风险，例如可能加剧的不平等和数据隐私问题。为此，OECD正在积极构建一个“AI素养框架”，旨在帮助学生和教师为这个由AI驱动的新时代做好充分准备。' },
                            { type: 'p_with_strong', strong: '教师能力框架的全球信号：', text: '值得注意的是，两大国际组织都为教师制定了AI能力框架。这传递出一个明确的全球信号：教师培训是成功且合乎伦理地整合AI技术的关键所在。这表明，全球的政策制定者都认识到，技术的价值最终需要通过专业的教育者才能得以实现。' },
                        ]
                    },
                    {
                        type: 'details',
                        summary: '1.2 国际聚焦：多元化的国家战略与趋同的目标',
                        detailsContent: [
                             { type: 'p_with_strong', strong: '美国（政策驱动，聚焦教师）：', text: '美国的策略以自上而下的政策推动为显著特征。白宫发布的行政命令不仅成立了专门的AI教育工作组，还明确要求教育部在教师培训相关的 discretionary grant programs（自主支配的拨款项目）中优先考虑AI技术的应用。政策的重点在于利用AI减轻教师的行政负担、改进培训与评估体系，并装备所有学科的教育者，使他们能够将AI基础知识融入日常教学。' },
                             { type: 'p_with_strong', strong: '芬兰（伦理为先，融入教学）：', text: '作为全球教育的领航者，芬兰将其AI战略的核心定位于伦理。芬兰国家层面的建议明确规定，教育服务提供者必须制定清晰的AI使用政策，并确保所有AI工具都符合欧盟《人工智能法案》、通用数据保护条例（GDPR）等法律法规，且与国家核心课程目标保持一致。' },
                             { type: 'p_with_strong', strong: '新加坡（务实高效，驱动生产力）：', text: '新加坡的策略则展现出高度的结构化和务实性，其《学前教育产业数码化计划》（EC IDP）是典型代表。该计划为学前教育机构提供了一个清晰的、分三阶段的数码化发展路线图：从采用电子注册等基础管理系统，到利用数据分析优化运营，再到探索智慧资源管理等前沿能力。' },
                             { type: 'p_with_strong', strong: '日本（社会感知，审慎融合）：', text: '日本的AI教育探索深受其独特的文化背景和社会需求影响。他们不仅在尝试利用AI技术应对学生缺勤等社会挑战，也注重培养学生对AI社会影响的批判性思考能力。' },
                        ]
                    },
                    {
                        type: 'details',
                        summary: '1.3 连接上海愿景：融汇全球趋势与本土目标',
                        detailsContent: [
                            { type: 'p_with_strong', strong: '支持高质量发展：', text: '上海市提出的到2025年全面建成“高质量幼儿园”的实施意见中，明确强调了要坚持创新驱动、减轻园所负担、并促进教师队伍的专业发展。AI工具恰好为这几点提供了强有力的支持。' },
                            { type: 'p_with_strong', strong: '赋能核心任务：', text: '上海的教育蓝图同样关注加强科学育儿指导、提升对有特殊需要幼儿的支持能力，以及构建家园社协同育人的格局。AI在这些领域大有可为。' },
                            { type: 'p_with_strong', strong: '深化数字校园建设：', text: '上海早已在推动数字校园建设和“园园通”平台的应用，这表明本市已具备坚实的数字化基础。本次讲座所介绍的生成式AI技术，正是这一数字化进程的自然延伸和重要升级。' },
                        ]
                    },
                    { type: 'quote', text: '一个深刻的共识在全球范围内形成：AI的定位是教师的“增强器”，而非“替代品”。' }
                ]
            },
            {
                id: 'part2',
                title: '第二部分：教师的AI副驾：革新日常教学与设计',
                navTitle: '教学设计革新',
                content: [
                    { type: 'p', text: '本部分将从“为什么”转向“怎么做”，为教师提供高度实用、可操作的指导，展示如何将AI应用于教学中最富创造性也最耗费心力的环节——教学设计。' },
                    {
                        type: 'details',
                        summary: '2.1 从灵感到活动：AI作为课程设计的创意伙伴',
                        detailsContent: [
                            { type: 'p_with_strong', strong: '核心原则：助手，而非枪手：', text: '首先要树立正确的观念，将AI视为提升教学创意的“辅助工具”，而非代替思考和创作的“枪手”。' },
                            { type: 'p_with_strong', strong: '构思与创意的催化剂：', text: '面对“白纸”的困境，AI能瞬间生成大量创意。教师只需输入活动主题、幼儿年龄和学习目标，便可获得多种活动方案。' },
                            { type: 'p_with_strong', strong: '提示词工程决定产出质量：', text: '一个优质的提示词应明确说明其学术关联性、年龄适宜性和教育目标。例如：“请扮演一位资深幼儿园教师。为4岁儿童设计一个30分钟的、以游戏为基础的科学活动，主题是‘四季的变迁’...”' },
                            { type: 'p_with_strong', strong: '轻松实现差异化教学：', text: 'AI在实现个性化和差异化教学方面表现卓越。教师可以先生成一个核心活动方案，然后通过追问进行调整。' },
                        ]
                    },
                    {
                        type: 'table',
                        title: '表2.1：生成幼儿园教学活动的有效提示词模板',
                        headers: ['学习领域', '教学目标', '基础提示词', '高级教学法提示词', '优势分析'],
                        rows: [
                            ['语言与读写', '培养幼儿的叙事能力和词汇量。', '“写一个关于小兔子的故事。”', '“请扮演一位儿童文学作家。为一群3-4岁的幼儿创作一个短篇互动故事，主角是一只名叫‘跳跳’的胆小兔子...”', '这种提示词不仅设定了角色和主题，还明确了目标受众、教学重点和教学环节，使生成的故事直接成为一个完整的教学工具。'],
                            ['科学探究', '帮助幼儿理解“沉”与“浮”的基本概念。', '“设计一个关于沉浮的实验。”', '“请扮演一位经验丰富的科学老师。为5岁儿童设计一个安全、操作性强的科学探究活动，主题为‘什么东西会游泳？’...”', '高级提示词考虑到了安全性、可操作性和教学流程的完整性，形成了一个闭环的探究活动方案。'],
                            ['社会情感学习', '帮助幼儿学习如何处理与同伴的冲突。', '“给我一个关于分享的活动。”', '“请扮演一位儿童心理学家。为中班（4-5岁）幼儿设计一个情景角色扮演游戏...”', '将抽象的“分享”概念具体化为可操作的角色扮演游戏，使幼儿能在模拟的真实环境中学习和练习社交技能。'],
                            ['艺术与创造力', '鼓励幼儿用多种材料进行创造性表达。', '“提供一个美术活动创意。”', '“请扮演一位雷焦·艾米利亚教学法专家。为一个以‘光与影’为主题的探索项目，为4--5岁幼儿构思一个开放式的艺术创作活动...”', '融入了特定的教学理念，鼓励的是幼儿的自主探索和表达，而非简单的成品制作。']
                        ]
                    },
                    {
                        type: 'details',
                        summary: '2.2 创造富媒体素材：定制图像、音乐与故事',
                        detailsContent: [
                             { type: 'p_with_strong', strong: '定制教学插图：', text: '教师可以为课件、学习单或故事创编活动生成独一无二的图片。诸如Microsoft Designer、Ideogram等工具，能够根据文本描述创作出特定风格的图像。' },
                             { type: 'p_with_strong', strong: 'AI生成原创音乐：', text: '通过向Suno AI等工具提供歌词和音乐风格，AI便能生成一首包含人声演唱的完整歌曲。' },
                             { type: 'p_with_strong', strong: 'AI辅助创作故事与剧本：', text: 'AI可以成为教师在集体教学时间共同创作故事的伙伴，甚至可以生成木偶戏的简单剧本。' }
                        ]
                    },
                     { type: 'quote', text: '芬兰的Elina AI是一个极佳的案例，它展示了专为特定领域打造的AI工具所蕴含的巨大潜力。最能赋能教师的AI工具，是那些懂得教育、尊重专业、保障安全的“专才”型工具。' }
                ]
            },
            {
                id: 'part3',
                title: '第三部分：精简管理要务：AI提升班级与园所管理效率',
                navTitle: '管理效率提升',
                content: [
                    { type: 'p', text: '本部分将焦点从创造性的教学设计转向同样重要但常被视为负担的行政管理工作。AI能将教师宝贵的时间和精力解放出来，更多地投入到与幼儿的直接互动中。' },
                    { 
                        type: 'details',
                        summary: '3.1 驯服“纸老虎”：AI在文档管理与家园沟通中的应用',
                        detailsContent: [
                            { type: 'p_with_strong', strong: '高效总结文档：', text: 'AI工具如Gemini或ChatGPT能够迅速提炼政策文件、研究报告和冗长邮件的核心信息。' },
                            { type: 'p_with_strong', strong: '辅助起草文稿：', text: 'AI可以快速生成家长通知、活动提醒或幼儿成长记录的初稿，教师只需进行个性化修改和润色。' },
                            { type: 'p_with_strong', strong: '智能整理信息：', text: 'AI能帮助教师结构化地整理信息，如将杂乱的家长会笔记整理成清晰、可执行的记录。' },
                        ]
                    },
                    {
                        type: 'details',
                        summary: '3.2 善用集成平台：以Google Workspace中的Gemini为例',
                        detailsContent: [
                             { type: 'p_with_strong', strong: '无缝的工作流体验：', text: '集成化的AI意味着教师无需在不同应用程序之间切换，可以在Google Docs、Gmail、Slides中直接调用AI助手。' },
                             { type: 'p_with_strong', strong: '简化的数据分析：', text: 'AI极大地降低了数据分析的门槛。教师可以在Google Sheets中用自然语言提问，让AI生成图表和洞察。' },
                             { type: 'p_with_strong', strong: '核心优势：隐私与安全：', text: '企业级AI解决方案（如Gemini for Google Workspace）对数据隐私有承诺，来自教育账户的数据不会被用于训练其AI模型。' }
                        ]
                    },
                    { type: 'quote', text: '新加坡的《学前教育产业数码化计划》展示了自上而下的系统性推动如何能整体提升一个行业的管理效率，值得借鉴。' }
                ]
            },
            {
                id: 'part4',
                title: '第四部分：赋能教师研究者：AI在教科研中的应用',
                navTitle: '教科研赋能',
                content: [
                    { type: 'p', text: '本部分将专门探讨如何利用前沿的AI工具，将教师从研究的被动消费者转变为高效、深刻的实践研究者，真正实现“在研究中教学，在教学中研究”。' },
                    { 
                        type: 'details',
                        summary: '4.1 构建个人研究智库：基于自有资源的AI分析',
                        detailsContent: [
                            { type: 'p_with_strong', strong: '什么是基于信源的AI？', text: '如Google的NotebookLM和腾讯的IMA知识库，仅在用户提供的特定资料范围内进行分析和回答，保证了信息的相关性、准确性和隐私性。' },
                            // *** FIX: Corrected syntax error from type:: to type: ***
                            { type: 'p_with_strong', strong: '与您的资料进行“对话”：', text: '上传教学观察记录、访谈稿后，可以像与研究助理对话一样向AI提问，例如：“请总结这个孩子在社交互动中反复出现的行为模式是什么？”' },
                            { type: 'p_with_strong', strong: '一键生成研究资料：', text: 'NotebookLM还能自动生成内容摘要、FAQ、关键术语表，甚至将研究笔记转化为音频，方便教师利用碎片化时间进行构思。' }
                        ]
                    },
                    {
                        type: 'table',
                        title: '表4.1：教科研任务的AI提示词模板',
                        headers: ['教科研任务', '您需要准备的信息', '结构化AI提示词模板', '预期AI产出'],
                        rows: [
                            ['撰写教学案例', '1. 幼儿的匿名化背景信息。<br>2. 明确的教学或观察目标。<br>3. 详细、注明日期的观察记录等。', '“请扮演一位资深的学前教育研究员...请基于以上内容，将案例报告结构化为以下几个部分：1. 案例背景；2. 案例描述；3. 分析与反思...”', '一份结构清晰、逻辑严谨、语言规范的教学案例初稿。'],
                            ['申请区级小课题', '1. 拟研究问题的清晰陈述。<br>2. 描述问题来源的班级现状或观察。<br>3. 初步设想的研究目标、内容和方法等。', '“请扮演一位教育科研项目申报专家...请根据我提供的以下要点，为我起草申报书中的‘研究设计’部分...”', '一段结构完整、语言专业的“研究设计”文本草稿，能帮助教师将零散的想法系统化。'],
                            ['进行文献综述', '1. 明确的研究主题或问题。<br>2. 已找到的3-5篇核心相关文献（可提供标题、摘要或全文）。', '“请扮演一位学术研究助理...请根据以上内容，完成以下任务：1. 识别核心主题；2. 寻找研究空白；3. 生成关键词...”', '一份简明的文献分析报告，包含核心主题的归纳、潜在研究方向的建议以及一组高质量的检索词。']
                        ]
                    }
                ]
            },
            {
                id: 'part5',
                title: '第五部分：以人为本的未来：合乎伦理、负责任且赋权的AI整合',
                navTitle: '伦理与未来',
                content: [
                    { type: 'p', text: '本报告的最后一部分，将从技术层面的“如何做”上升到专业伦理层面的“应该如何做”，探讨教师在使用AI时应承担的专业与伦理责任。' },
                    {
                        type: 'details',
                        summary: '5.1 您是“工程师”，而非“执行者”：捍卫专业自主权',
                        detailsContent: [
                             { type: 'p_with_strong', strong: '风险的识别：', text: '过度依赖AI生成的标准化教案，确实存在将教师角色窄化为“执行者”而非“设计者”的风险。' },
                             { type: 'p_with_strong', strong: '赋权的愿景：', text: '应对之策，是将教师的角色重新定义为“教学设计师”、“提示词工程师”和“伦理把关人”。教师始终处于“驾驶位”。' },
                             { type: 'p_with_strong', strong: '不可替代的人类价值：', text: 'AI无法与一个哭泣的孩子共情，无法在眼神交流中给予鼓励，无法构建一个充满信任与安全感的班级氛围。AI最大的价值，是为教师创造出更多的时间和精力，去专注于完成这些最高价值的“人类任务”。' },
                        ]
                    },
                    {
                        type: 'details',
                        summary: '5.2 驾驭风险：数据隐私与算法偏见的实践指南',
                        detailsContent: [
                            { type: 'p_with_strong', strong: '数据隐私：首要原则：', text: '绝对禁止在公开AI工具中输入任何可识别学生身份的信息。应优先选择专为教育领域设计、并提供数据安全保障的企业级工具。' },
                            { type: 'p_with_strong', strong: '算法偏见：保持批判性思维：', text: '绝不能盲目信任或直接使用AI生成的内容。教师必须扮演“批判性过滤器”的角色，主动审查与修正其中可能存在的偏见或刻板印象。' },
                        ]
                    },
                     {
                        type: 'details',
                        summary: '5.3 行动倡议：开启您AI旅程的三级阶梯',
                        detailsContent: [
                             { type: 'p_with_strong', strong: '第一级：好奇的探索者（低风险体验）：', text: '从使用公开AI工具处理无涉敏感信息的个人生产力任务开始，建立基本认知。' },
                             { type: 'p_with_strong', strong: '第二级：高效的实践者（融入工作流）：', text: '有意识地将AI用于处理日常的、非核心的专业任务，以提升工作效率。' },
                             { type: 'p_with_strong', strong: '第三级：创新的研究者（高级应用）：', text: '掌握并应用基于信源的、更高级的AI工具，进行深度的、个性化的教学与研究工作。' },
                        ]
                    },
                    { type: 'quote', text: '对抗对未知技术恐惧的最佳良方，是赋予使用者掌控感和能动性。当教师学会将自己的教育智慧和人文关怀注入到给AI的每一个指令中时，他们就将这项技术从一个潜在的威胁，转化为了一个放大自身专业价值、实现教育理想的强大盟友。' }
                ]
            }
        ];

        // --- DOM ELEMENTS ---
        const contentContainer = document.getElementById('content-container');
        const desktopNav = document.getElementById('desktop-nav');
        const scrollToTopBtn = document.getElementById('scrollToTopBtn');

        // --- RENDER FUNCTION ---
        function renderContent() {
            presentationContent.forEach(section => {
                const sectionEl = document.createElement('section');
                sectionEl.id = section.id;
                sectionEl.className = 'mb-16 scroll-mt-24';
                
                const titleEl = document.createElement('h2');
                titleEl.className = 'text-3xl font-bold text-sky-900 border-b-4 border-sky-300 pb-4 mb-8';
                titleEl.textContent = section.title;
                sectionEl.appendChild(titleEl);

                section.content.forEach(item => {
                    let itemEl;
                    switch (item.type) {
                        case 'p':
                            itemEl = document.createElement('p');
                            itemEl.className = 'text-lg text-slate-700 mb-6 leading-relaxed';
                            itemEl.textContent = item.text;
                            break;
                        case 'p_with_strong':
                            itemEl = document.createElement('p');
                            itemEl.className = 'text-lg text-slate-700 mb-4 leading-relaxed';
                            itemEl.innerHTML = `<strong class="font-semibold text-slate-800">${item.strong}</strong> ${item.text}`;
                            break;
                        case 'quote':
                            itemEl = document.createElement('blockquote');
                            itemEl.className = 'border-l-4 border-sky-500 italic text-slate-600 pl-6 my-8 text-lg';
                            itemEl.textContent = item.text;
                            break;
                        case 'details':
                             itemEl = document.createElement('details');
                             itemEl.className = 'bg-white rounded-lg shadow-sm mb-4 border border-slate-200';
                             const summary = document.createElement('summary');
                             summary.className = 'p-5 font-semibold text-xl text-sky-800 cursor-pointer flex justify-between items-center';
                             summary.innerHTML = `<span>${item.summary}</span> <svg class="w-6 h-6 text-sky-600 transition-transform duration-300 arrow-down" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>`;
                             const detailsDiv = document.createElement('div');
                             detailsDiv.className = 'p-5 border-t border-slate-200';
                             item.detailsContent.forEach(detailItem => {
                                 let detailEl;
                                 if (detailItem.type === 'p_with_strong') {
                                    detailEl = document.createElement('p');
                                    detailEl.className = 'text-lg text-slate-700 mb-4 leading-relaxed';
                                    detailEl.innerHTML = `<strong class="font-semibold text-slate-800">${detailItem.strong}</strong> ${detailItem.text}`;
                                    detailsDiv.appendChild(detailEl);
                                 }
                             });
                             itemEl.appendChild(summary);
                             itemEl.appendChild(detailsDiv);
                             break;
                        case 'table':
                            itemEl = document.createElement('div');
                            itemEl.className = 'my-8 overflow-x-auto';
                            const tableTitle = document.createElement('h4');
                            tableTitle.className = 'text-xl font-semibold mb-4 text-center';
                            tableTitle.textContent = item.title;
                            const table = document.createElement('table');
                            table.className = 'w-full min-w-[800px] bg-white shadow-md rounded-lg border-collapse';
                            const thead = document.createElement('thead');
                            thead.innerHTML = `<tr class="bg-slate-200">${item.headers.map(h => `<th class="p-4 text-left font-semibold text-slate-700">${h}</th>`).join('')}</tr>`;
                            const tbody = document.createElement('tbody');
                            tbody.innerHTML = item.rows.map(row => `<tr class="border-b border-slate-100">${row.map(cell => `<td class="p-4 text-slate-600 align-top">${cell}</td>`).join('')}</tr>`).join('');
                            table.appendChild(thead);
                            table.appendChild(tbody);
                            itemEl.appendChild(tableTitle);
                            itemEl.appendChild(table);
                            break;
                    }
                    if (itemEl) {
                        sectionEl.appendChild(itemEl);
                    }
                });

                contentContainer.appendChild(sectionEl);

                const navLink = document.createElement('a');
                navLink.href = `#${section.id}`;
                navLink.textContent = section.navTitle;
                navLink.className = 'nav-link block text-slate-600 hover:text-sky-700 hover:bg-sky-50 rounded-md p-3 transition-all duration-200';
                desktopNav.appendChild(navLink);
            });
        }

        // --- INTERACTIVITY ---
        window.onscroll = function() {
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        };

        scrollToTopBtn.addEventListener('click', function() {
            window.scrollTo({top: 0, behavior: 'smooth'});
        });
        
        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            // First, render all the content
            renderContent();
            
            // --- FIX: Moved observer logic inside DOMContentLoaded and after rendering ---
            // Now that content is rendered, select the elements for interactivity
            const renderedSections = document.querySelectorAll('section');
            const renderedNavLinks = document.querySelectorAll('#desktop-nav .nav-link');
            
            // Logic for highlighting the active nav link on scroll
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        renderedNavLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { rootMargin: '-30% 0px -70% 0px' });

            renderedSections.forEach(section => {
                observer.observe(section);
            });
            
            // Logic for smooth scrolling when a nav link is clicked
             renderedNavLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
        });
    </script>
</body>
</html>
